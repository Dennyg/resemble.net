using ResembleNet;
using ResembleNet.Settings;
using System;
using System.Drawing;
using System.IO;
using Xunit;

namespace Tests
{
    public class ErrorPixelTransformations
    {
        [Fact]
        public void ChangeErrorPixelColor()
        {
            var people = Image.FromFile(@".\Examples\ghost1.png");
            var people2 = Image.FromFile(@".\Examples\ghost2.png");

            var result = new Resemble(people)
                .CompareTo(people2)
                .WithDifferenceColor(Color.FromArgb(0, 255, 0))
                .Compare();

            var expectedResult = Convert.FromBase64String(@"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");
            var actualResult = Convert.FromBase64String(result.ImageDifference);

            Assert.Equal(expectedResult, actualResult);
        }

        [Fact]
        public void ErrorPixelTransform_Flat()
        {
            var people = Image.FromFile(@".\Examples\ghost1.png");
            var people2 = Image.FromFile(@".\Examples\ghost2.png");

            var result = new Resemble(people)
                .CompareTo(people2)
                .WithDifferenceType(DifferenceType.Flat)
                .WithDifferenceColor(Color.FromArgb(255, 255, 0))
                .Compare();

            var expectedResult = Convert.FromBase64String(@"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");
            var actualResult = Convert.FromBase64String(result.ImageDifference);

            Assert.Equal(expectedResult, actualResult);
            Assert.Equal("0.27", result.Mismatch.ToString("F2"));
        }

        [Fact]
        public void ErrorPixelTransform_Movement()
        {
            var people = Image.FromFile(@".\Examples\ghost1.png");
            var people2 = Image.FromFile(@".\Examples\ghost2.png");

            var result = new Resemble(people)
                .CompareTo(people2)
                .WithDifferenceType(DifferenceType.Movement)
                .WithDifferenceColor(Color.FromArgb(255, 255, 0))
                .Compare();

            var expectedResult = Convert.FromBase64String(@"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");
            var actualResult = Convert.FromBase64String(result.ImageDifference);

            Assert.Equal(expectedResult, actualResult);
            Assert.Equal("0.27", result.Mismatch.ToString("F2"));
        }

        [Fact]
        public void ErrorPixelTransform_FlatDifferenceIntensity()
        {
            var people = Image.FromFile(@".\Examples\ghost1.png");
            var people2 = Image.FromFile(@".\Examples\ghost2.png");

            var result = new Resemble(people2)
                .CompareTo(people)
                .WithDifferenceType(DifferenceType.FlatDifferenceIntensity)
                .WithDifferenceColor(Color.FromArgb(255, 255, 0))
                .Compare();

            var expectedResult = Convert.FromBase64String(@"iVBORw0KGgoAAAANSUhEUgAAAPIAAADsCAYAAABOtPtPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAB/jSURBVHhe7Z0JdBTHmYCRndOJN8nG8ZFkN3mOk+w6++LN4iQYNDOEQ9OjkYTETLdOEEggkNAxMwJfgIUBXxgcG9/Yjk98YHxf8YWxsTl8gzCHEEhImhkd2PiKY2ND7f8PJUeIX/dUS938/3vfGx0zPVXV9XVVdVdXD+NQH5qmffvssRNPH6XpiS7Nr49K8pe6PPoCp+a71un23Z/o8T81OtlYB3/b7PD4a52aPwz/ex9+/tSZbHw+Otl/AP53EN5zCPjSpRlfOD36p063/wN4jTjd+m543TraY6yH/z03RstcnZtWenNV9tJLVxU8Ou+NWe+GdlfsvmBvoOHyxkD4hqZA092Rysgj4UD4hUgg8lokFHmrKdi0FX6vbQo11cHfGuDncCQYCYeD4camQLQePrMHft8B7303HApvgvethf89Ce+9H/5+SzQUXQp/vxD+Xww/6/A3V7g0/F8fnPfBD2QxcHAM/Rg/Pu97I8f5znZ6/DlOzahK1HwrUSz4PQzyooQinozzZou8jHJRaSwQl+deJ26fep94fPrfxWslG0V1+XvivfLtXbK1fNuh7WU7v9xRUfPPXeW1n9ZV1H1YH6zf1xhqbAYZI/EGpK4B6V+Cg8Vd8LoQRJ8CBxJna6D1NDFMJMgi5OAwN/48JvUUkDXZ4dHnQ6v4iMNj7FIhazvJKZNFsf8CcWnucnFPwWqxZuYrorqse1n7Ten2gzvLar6oqdj1j93B+v17gw2tlJzxAlr07dCKPwpiXxINRrPeD7z/O7FKHC+LmoMjPlFVVXXcKLfvdyBuCbayLk3fTckWT/wTZogLsi4Tt05ZKV4EaaEFpaUzCWzBUe7awO5PoPV+H7rZUUrKuBEM14LcD8PPFzaHmse2zWk7Ue4ODo7ex4gx/p+5PMZUGG8+AGPTFkq2eOKFFrfSWChuA3HXlWwgZRpq7KjYeQDFxi65CWI3wpj8GZB7bkugZVRNWc235a7i4OgYVceNcBv/h2Nbh2a8A3LhSSVSunhhTJgpFuX8VTxR9Ky6brJJYIuN423siqsaZ3cEhN4F4+7bQO7Mj2Z99GO5EzmO0Ug4R/P9wenxXYZniinZ4o0+oUhclnuteHbGGlIIu4DdcDyBZobU2FoDD7ZUtkz6OPTxSXLfctg9/pisn+rQ9Nl4qYeSLd5oKXniQhjv4hnlwR7rmk3s7HjFrs/3BOo+UN79BqCl3gut9N0wrk7j7rcNQ9f14x3uiW6Q96HRHv8BSrh4MzmjQqyYco94p3QzWcmPOcq2H6wtr/1U9VnwdqA3sA0vdbXNafutrAYcVg2XS/9+ouYvdmn+bZRs8WasN0uEjAWxcS9ZmZkYO2QrTQkYdwJhnNTyYKQi4uHLWhYLkPcnTs1Y6PQY+yjh4k2SN1dclL1EvFy8nqy4TJd8VVdR/6EZ3e4YwfDGSCCS3xBs+K6sKhxDMVBgGP9e4fAYn1DCxRsUeGHOVWJDyetUJWV6S+m2g7vL93xsltBNwabqSGWkpKWk5fuy6nAMhfiTlvtvTk1fZJbAY73ZYj60wOtZ4PgC42hThQ40vRcJRYq5hR7kGD686JuO2A0IRislXLz5S3KmKNPnxaZIkhWRiQ/QQuPlK0o+FUB3++3mYHMOj6HNj4REtzEudscPIZwKstNLxOppT9AVj1EC3tiBU0Ip+ZQQDL/YGmh18I0cJoTDnXEa3voHcimffYXgOHjZpJvE5rKtZGVj1IOzxhoCDS2kfPEmGA5Dd3vFvuC+n8kqxxHXqKo6Duc/Oz3Gh5RwKpjmmyPWFr9KVi7GXHByyZ5A3UekfGrYBVJP5+52HMOlZfwcutHPUrKpICklV9yQf8cxNxPLCkDrfKC+Ym8bIZ4SoqHoU62h1t/IqsjRz0hwJPkzoSV+nxJOBTgjC28dpCoRMzTA1hnPblPiqaAJV0epjMwUVeI4WS85ehvDU1JOcLiNFSCXKWNhPCO9IHspjIWrycrDDD3w5gzTxs4AjJ3vi5RFfiKrKEdP4Rw38dcut7GFEk4FWsoksbLgIbKyMEOc0m0HTZvuiQTDm+E1UVZVjq7CqRmpDs3YTwmngswJxeKFmS/TlYSxDLj2mIlTPRvh9VzuatOR4ND8ARD5K0o4FRT55og3St8mKwZjPbCrbco90BJcTJCneXYIl8v1DVwalpJNFedlXsLjYRuCk0j2BveacqukZE24PPyfsiofu4G3Gjo9vicp2VSAJ7WuzLuBLy3ZmbLtB+sq6k2bEYY3YUQro3+WVfrYi8RE749cHt96SjgVjAGJr5/8N3rnM7YD1xCjxFMBdOnrIpURj6zax078cWz6jx1u/Q1KOBWM8WaJm/PvInc4Y19MnQ0WCDdEQ9FMWcXtH7EF3k1aMwvBlTtum3IvuaMZ+4PL9pLiqaGpeXbzdFnV7RvYEpt519KYZJaYAZnLaz8lpFNDMByOBqOlssrbL0aOTDvR6dY3UsKpAE9sXTv5NnLHMscetYE95rXMIHNzqHmarPr2CZcr/zuuZOM5SjhVXJ67nNyhzLGLmXO0ceG/5mBznlTA+oHL0SZqxgOUbKqYm3UFX2JiSMw8ARYJRhoBn1TB0pHg0oxLKNlUMcN3rthi8cewMGoxc352U6CpvmV2yyjpgzXDmeTPUfnI0c7oE2aIN2bxtEume/BWyPqAefc1N4WatrXOaf211MJakZikDx+tGZ9RwqnAkzKJb4Bgek/ptoNm3gYZDoY3wqu1nk+Fa0yDXI2dZVMFztpaWbCa3mEM0wU4N9u0u6aQQPgxUSW+ITUZ2oEPB3d6DNPmTyO4zjS1oximJ3BxP1I6VQTDC6UqQzsS3f4QJZsqctPLxLtlW8idxDC9wdSpnMEIXmNOk7oMzRjp8Z3t0owvKOFU4E7J4zW2mAGDJ7/qgvX7SPFUEAzXtARbzpDaDK0Y4fd/15Xs30kJp4ob8m8ndwzD9IOvzBwvNwYan9uqb/2W1GfoBD5AjZJNFbjudHU5Xy9m4sfO8prPKOlUEQ1GL5D6DI0Y6ck6G+T6srNsqkjy5oiXZq4jdwbDDASTF/NrbKts+6PUaHDjDE37tivZvFUvkWsm3ULuBIYZMKXbDpq59lckFFkfrgqfIHUavHB6/OdSsqkiK71EbOFnMTEKMfuSVCQYuUjqNDjhcOee5tL0jynhVIC3JvJTERkzMPVJkIFwQ6QycqbUyvxweYw7KOFUgc8npgqdYRRg6lls6GI/jpOppFrmxSjNGGHmDRHjvTni5eL1VIEzjBJMXiYIyZV6mRYJTo+xlhJOFRdlX0kWNsOoAieKmHtjRWRztDL6PemY+hiV5B9PyaYKnMG1oeR1srAZRiWmX1sORc+VmimO2E0Rvk2UcKpYnHM1WcgMYwZm3rscDoZrm8ubT5G2qQsYG6dSsqkC7zPeNOtNsoAZxgzwuVKkdOpYKnVTFjA2Nrc1XphzFVm4DGMm9WbeVBEIN3xw3gfqninlSDaclGyqwDPVr5ZsJAuWYcxkEFrlJVK7+IfZCwbMyVxEFirDDAZmtsq4aF/bnLafSvXiF6Pcvt+Zed0Yl+95fsZLZIEyzGCwo2LX55R0qogGooulfvELh8d3MyWcKqb5ZpOFyTCDSX2FiWewA+Ha/RX7fygVHHiMTEs70cw51cidU1eRBckwg0lNxa5/kNIpIhKKFEsNBx4ujz6dkk0VKalTeB0uZkiCs70ag+bd5ghsEqvE8VLFAUWCU9PfpIRTxcV8yYkZwpj6DCkgEoxo0sX+x6gk4yxKNlXgrYov8kLzzNDmK0o4VUD3eqXUsf9h9lpc2emzqIJjmCGFmfcr48PgWma3nCqV7HvgkxRdmrGXEk4VyybdRBYcwwwlBmGhvv4/PH2UpidSsqlijDdLvML3HDMWAE96mbnwAIj8shgmEqSafQunZlxHCaeK/IkBstAYZiiyp6LuQ0o6VbQEW86SavYlqo4zvVudx91qxjpsN3mmVyQUmSvl7H0MxtnqF2auJQuMYYYiZnevQeRX+9y9driNeZRwqshIm44FQxYYwwxVdgfr91PSqaLPq206NXPvO57Hj0ZlLIjpa2CHIrOloj1HojfnR2be6YTcW/gwWVAMM5Qx/ex1KPqU1LTnSPQY6ZRsqhjrzeblfBjLYuZ9yjg5pNd3RDk8+nJKOFXkZpSRBcQwVsDs9a+jgWiqVLX7cGj+ako4VVycs4wsIIaxAjBOPkAJp4xAeJlUtesYkeT/d5DrUGfZVMLjY8bqmDlOBjZIXbsOh9twU7KpYkxylni1ZANZOAxjFcx8rjKMk8PRyujJUlk6XB59PiWcKtJSp/L1Y8bymD1OBpmTpbJ0ODWfqStllvITFhkbYPZyuU2hpiqpLBkJ0LWOUsKpYmnejWTBMIyVwOvJlHAKeVw6e3ScMz7jZEo2ldzHJ7oYm2DmCpuRUGSXqBL085Qd4/1jKNlUgTdKrC1+lSwUhrEaZs+7bg40ny7VPTKcbr2cEk4VSd5csbmsmiwUhrEau8prP6WEU0U0FE2R6h4ZTo9+EyWcKvJ4RhdjI0x/EkUwep5U98hwePSXKOFUETSqyAJhGIti9uqaK6S6R0SCw+Ovo4RTBT/AnLEbJi808Lx0919xpq5/y6kZX1HCqeKm/LvIwmAYq2L6mevOK4aMSPKfQcmmkoenPUkWBsNYFTOnaiKfVH5y5FTN0VrmWEo2VeClpzUz15GFwTBWxfTHyQQiZ0uFD0eipudRwqlirDeLFxNgbIfZT2uMVka9UuHD4dD02ZRwqhjvzRHVZe+RhcEwVsXsNbyiwWihVPhwOD3GEko4VaSnFZIFwTBWxuybJ8KV4QukwofDmWTcTQmnikkZ5WRBMIzFMfta8jVS4cPhcOtPU8KpYobvfKoQGMbalG0/SAmnjGD4Dqnw4QC51nWWTSUV+ny6IBjG4pDCKQJa5IelwofD5fZtoYRTxXmZi8lCYBir0xhsbKakU0EkEHlBKhyLBKfHt4cSThVV2UvJQmAYq9MQaGihpFPEJulwLEBko5USThWX5F5DFgLDWB0zp2nCGLlaOhyLhES3vp8SThWX5V5LFgLDWB2T51vvkA7HAu98+pQSThVX8lpdjE2pC5j3CJmmYHi3dDgWCaM9/gOUcKpYNokfas7YE1OfBRWK7JUOxyIB5DL16RJ/nXQLWQgMY3XqKurep6RTAS5WLx2OBYpMCqcKFpmxK2aKjEiHY8EiM0ycYJEZ24F3uOHtqhtKNorXZ711TDweiEW2IVhx1xW/JlZPe0SsnHqveLDwEfh9ve0r9IszXxKLsy8VmWnZIsWbKrzJySLVmyZy0nLFktwrxStQJtTn7ACLbCOwJbp76koxNb0AKnGKSIaK3I432Svy06eKO6febbt7snGd8ityl8bk7ZjnzqSB1NdPulFUl9vvnnQW2Sa8Dl3JCn+ArMCdKfWViY2zXie3YzVQ4jn6uWQ+u2JB1sW2652wyDbgzdK3RWF6IVlpu2JK+hTxBowfqe1ZictzlpD564nrJ9trchCLbHGwZbnQmEdW1p6Yrc+xdMv0/IwXY0MGKm89kZ6SLtaXbCK3a0VYZIvzZNEz/a7M+LlHpz9BbtcKLMhaSOYLEWLYjwAncBr1f+TK3GXkdq0Ii2xx5mZeRFZSBCrxybIyn0L9H5mjn0dud6iDJ+x8KX4yT5BflPhe4CngYeB06n0F6dPIbVsRFtnCbCnbKoxU46gKikDl/QWwWlbmh4BfUe/T4fO4HWr7Q5nXSjYedWa+HcjrOJnvdqZR70tPybBk3ilYZAuDJ6u6uuQClbewU2Uuo96Hn7fiSa+Xi9cdlZd2IK9ndcp7GvU+HFpssckjdllkC/P6rDe6HB9D5c3qVJkLqffh5/HSFbX9oUx3LbLX68X85wG3AmVpaWnk+7hF7j/S4ViwyAPk7dJ3Y5WRqqRZWeCxGHYN8ARwXXZ2Nvk+PHuL26G2P5RBAX2p9Bi5txTyGLnfSIdjwSLHgcKM6WQlRVJSUoSu6yI1tesZT1PTCy17CerirEVknnrL0tyryO1aERbZ4tw0eQVZSXvL1XnLye1agRdmroExPt297gnsyWzg68j9RjocCxY5DrxZ+o4wUjPJytoTeMYbZ4VR27UKOMeayltP3DD5ZnJ7VoVFtgEPFj4sUro48dMV+P77Ch4gt2clcKx8rn4emceuWAhdcp5rPTCkw7FgkePIbVNuF6k93P3TDl5yunmyfcoCZcZZWnjLIpXfdvDEHs6xtpvECItsI54selpMSZ9KVuJ28tOniMcsPC2zO9YWvyIWZi8WeRMmiTTvhNiltQnedDF5wpTYzRWvlWwgP2cHWGSbga0TdrXnZy4Q0zJmiElQqadlFMHvVeKBwtW2uW7aHdjivl26WbxV+o54B17t2AJ3hkVmGBvAIjOMDWCRmS7BLumT05+OTbwoyJgu/Kl+MTFlolJ8KT4Y404W5xsXxpYterdsC5k25khYZIYEx9I4rk7uYi63WeD6Y3Y+SRUvWGSG5Jb8v5FiDQazfKXHxAmrgcAiMyRFE4tJqQYDvIy0wSaLBaqCRWZIJk2YQko1WDw740UyncxhWGSGZG7mfFKowQBnrFl9TrhqWGSGZFXh6kOUVINBycRSMo3Mv2CRGRJc3G7GEBgn4/j44WmPkWlk/gWLzHTJM0XP9vmuqniDT5Gg0sYcCYvMdMtFWQtIwToixLATgO/3gxOo7bWDS/lsKOGz1b2BRWa6BVfYzOxm4QKQcQSQCeBif/0hkdoudqlXFtxHpok5GhaZ6ZFHpz3e5ZI6IKK7k5h9JYXaLt6OSKWFoWGRmV6BN+RTwoGIJwFGBzH7ArbkP++8TZzJdSzcbhlPWGSmV+AUycXZlxwhXDsg4286yNkXft95WwXphbF1yKg0MF3DIjO9BmVe1LXMvwV62zLj+87svI3CjGlikwUXyx8KsMhMn0CZl0+6PnYyqrOIIOePAU3K2hUe4KiHygX9odiKHtR3Mj3DIjP9Aidp4APgOguJgKinAn8CkgCvfMWz20eNh3FtravyrhbV5e+R38P0DhaZ6TfYgl6ac3lsdcrOgvYETjQJ+INizcy15LaZvsEiMwMGx7XYqk5JLyC73B3BVhwnmfy96DlyW0z/YJGZuIHj5/Ulm8S9BQ+IZSD2JdmXikXZi8WS3GXilvzbYrci8mUlNbDIDGMDWGSGsQEsMsPYABaZYWwAi8wwNoBFZhgbwCIzjA1gkRnGBrDIDGMDWGSGsQEsMsPYABaZYWwAi8wwNoBFZhgbwCIzjA1gkRnGBrDIDGMDWGSGsQEsMsPYABaZYWwAi8wwNoBFZhgbwCIzjA1gkRnGBrDIDGMDWGSGsQEsMsPYABaZYWwAi8wwNoBFZhgbwCIzjA1gkRnGBrDIDGMDWGSGsQEsMsPYABaZYWwAi8wwNoBFZhgbwCIzjA1gkRnGBrDIDGMDWGSGsQEsMsPYABaZYWwAi8wwNoBFZhgbwCIzjA1gkRnGBrDIDGMDWGSGsQEsMsPYABaZYWwAi8wwNoBFZhgbwCIzjA1gkRnGBrDIDGMDWGSGsQEsMsPYABaZYWwAi8wwNoBFZhgbwCIzjA1gkRnGBrDIDGMDWGSGsQEsMsPYABaZYWwAi8wwNoBFZhgbwCIzjA1gkRnGBpgqciAclg7HIsHl8R+khFPFlXk3koXAMFbHTJEjwUiNdDgWCQ6P/5+UcKpYnHM1WQgMY3XqK/a2UdIpIRjeLB2ORYJD8zdTwqni3MxFZCEwjNXZG2xoJaVTwxrp8OFwefS3KeFUkZ8RIAthKLC1fJt4YeZacXP+XaIqe6mo0OeLGb7zY6+X514nVk97Qmwp20p+1oqsK9kgbp96P/SSrhEhY4GY6b9AFPnOE6X6XDE363KxfPKt4pHpT4t3y6rJz1sJ3LfPd9i35XLflvgvhP17kZiXdYX466QVYmXBavFy8WvkNnqiMdTYTAinhmDkNqnw4XBo+ipKOFWkpOaLaihUqiA6s6Oi5kBtYPcnewJ1H+wN7m1tCjRFMRMNgYYW/FtNxa5/vFe6/SD12d6CO/jpGS+IBdnLRHpaIZnmjngh/Tg8eLVkI7m9flO67eDOsprPYJz1IXbRsFK05xd/xr9hnmsDez7BciG30Qs2zXpTXAOC5mWUk/mjSPLmiqBRJe4vfAT23XvkdvsMkd/2Soo/Y+uGY866ivoP8X3by3Z+SW6nB9bMXCcW5fxVZKRNI/PWFSmpU6D3uBgOdPeJN0vfIbd9BGXbD7an3yQulAofDpfHdzGVEVX8JTlTvDjzFbowANxhUGE/QlmJxJPsDtTv72vlxlbmlin3QIUuI9PZE2O9WWJ+9hXitQEIDQeRQzsqdv6zPli/j8pXd2D54EEOtvNV5+1S4IFnXvYSMQ7STeWnt0xMmy5uzL+jX6005ndnec1n/ckvgoLvAfG3V+z6HLdFfUc7j0//O/Qwzifz0FfGerNjLfi9hQ+L6jL6QAb78QCVZlXAQX6cVPhwJGqZY6nEq+QGqAhHF0RNvyp0R7DF6unI/Vbpu+Jq6EKlpk4l09ZXsLVaknc9VOwt5Pd1BbYyfTlYdQdWbtgmKfTbpZvFZbnXgsDZZPr7C7Zwd0C3HHs01Pd2BKWrLa/9NF75RbC3ggf8zgdwbIFxaEClOR6kpRaIqybdLF6f9dYRecSeEpVOFUQCkYa2OW0nSoUPx4gR/u+6NP0fVKJVUTAx9HUBYIXGbjOV4P7QvoOxq9OxoLEFuXbybbEuE5WmgYItFR6xO34nBeT3CxVnN9vz3bGluh/S09cuZV8pmFgpnp2x5qh8toMH6HgKTIENAOT7o0uzlx/EnhKVzniDB3A8t7ARhiqYT1OvIYfCd0p9jwyXR7+HSqwqoHt9aEPJ6zDuVXeWD7th2I3DFuPuggeFb0IRmZZ4U+qfK9ZSJ0tgLI8tJ5XWeIL5ri7fvi9kLDhEpU8FY0AerNSduttfmVW5I5WRe5tCTf9xznjjf6Au4zkf0/KelJInluet2B8OhGuptKkgEoxoUt0jI1Hzu6hEqgDPko9y+0ZHQ1GdSmRcCYZfAokLHJq/mkqLKsZ7c47obmOr1PFkjipgB4eBW+Dnk5yakezU9HoqfaowJswUj01/RmA3uv1EnUpA3m3Ryqghq/HXkZikD3dp/jVUGlXg8Pgvb5ndcirUt+uodMYTyPNaUSWOk1k9OhweYx2VyHjh0PT9kOFSXdePx+8TujgeMv4kldiBApVoD2y7HDL8Dfyu4cOHfzNR04OuZP9HVNpUMTF1xvvbynaswul0VDrjSjC8uTnUnIb5bY+RaWknOpL066FSmzJ7Dw+YY93Z58AYLj8Siuwg0xkPguFwU7DpZpD4ZJlVKhKggfK7NGMvldZ4gXXqnPEZX6cDhB4F+X+NTPdAgXrUEmpJlF9Fh1Pz/cHl8R+gEjtADjk9vgddyfqp8qu+jr1le38V7x0OLdLjUJi/kl9xRPx5TNYpkJZbIU1fdkpjvDnk1PyrHe6M0/B72wJtZ0MPZDWV3jjQBDt4GXRjfxjLJBEj3T6Hy+3fRqQzTvj/6XDr84cXFX1TfuWw5vLmU0C4G1E6Is39BurLqyDwGPk1PcbIkXAw8+jLVR3MsIGQX/V1HAoe+i7Uw0vifQCHvM+XX9F9YKKoxPYX6Ea34FFRbp4MyOwo2NkDH18EwzWQ0eJV+qpYi99d4FgK8voQpC/uYyloAXY73L4J8qu+DjFMJEBeHZDOB+JRubEbjdtqCbacJb+i29A07dtwcJk72mN8QqW7v0D3/YlET+Zv5NccFc0VzedAvp+g8tAXoAWuhpZu5ptFb359sOhLOJINJ/QI66g89BfMO2w64fA3HB3QQxoL+2gjlZ8+AwfFbrvUnSLB6fZfSSW6L+DRD47Qd2ILKLfbbbSGWv8Aff83yAz0AHajobVb1EM3i4xzoBfi0Ix7Qb4vqHz0BTxoOT1GpcuV/x25+S4jUhk5M3bEDoarqTx1SyDcAAesW5uDzSPk5voUI7z+nzncxoqB9r6cbn2jQ/Mlyc12G0KIBKzUkYrIfX1tpbCbCuVVFK4KnyA31+8YPk7/gcPtXwHpH3CPzOnR1/5+fN735Ka7DJDvW1A/C/pbv4EmqCcX9EXirwMknDVaMz6jMtAdKDAcpR7FbrrcVK8Dr4tB5Z4H1BCZOQqozK/Aa9lH53/0Y7mJfseIMf6fuTzGBcB7VL66w+nxvwv5Lv79+PE97tTOIYrEN3HM01zZPA921pPAUXnHlhd4B/L7N5Ag9+Oyj38iPz6g+LM785fQK1kKeX6fyheN/wDu30S3gZMRumyJuguQ8hdQsWdBxV5N7evGYONekPc5OEBXRYPRP+FBQH40bpE4NvM3UEdvdybrn9P57JZD0FW//gzo4cjN9SrwnBA0Nl7oWdwFea/rnO+jgAMelMP9TRVN/ys30b9I9E48HVvV3mQWKsMeGHteNlLLJMemfYmWkpbvQ4XOgJ18BWT6IcjUGsjQC/hzNBBdBpVgCnQnz5Bvj3skjp14OooJrc1d0Gq9BflqPVyBja9gB34I/9uG41/ouYSwQsiPxSWw0kJ+T2otb/31vop9/x2tiP4Sdn6fDxB9iTN1/Vsjx/uSYB9eA6yH1joK+/RLmd99eKCCnsYdziT/5D+OTR/wQbNjYH7xwNRW0fbbGLPafipWiR6HRvGKMbFzJkYl7ONNPd3Oi40UvOcp2O/nyI/3O7COw4FqHNTpOXCAXgEHt0fg56exjkO9Xw71fzrue/n2+ITLNeGH0I0yILNLoDtxX6Lmewy7o1AAV43S9IKRbv9v5VtVRtyPyhwcHcPlyj4p0WOk43kEqOc3QT1fGWu1oYGCg1lOb4eJAwiu4xwcHBwcHBwcHBwcHBwcHBwcx2oMG/b/zRWqQGfKh7QAAAAASUVORK5CYII=");
            var actualResult = Convert.FromBase64String(result.ImageDifference);

            Assert.Equal(expectedResult, actualResult);
            Assert.Equal("0.27", result.Mismatch.ToString("F2"));
        }

        [Fact]
        public void ErrorPixelTransform_MovementDifferenceIntensity()
        {
            var people = Image.FromFile(@".\Examples\ghost1.png");
            var people2 = Image.FromFile(@".\Examples\ghost2.png");

            var result = new Resemble(people)
                .CompareTo(people2)
                .WithDifferenceType(DifferenceType.MovementDifferenceIntensity)
                .WithDifferenceColor(Color.FromArgb(255, 255, 0))
                .Compare();

            var expectedResult = Convert.FromBase64String(@"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");
            var actualResult = Convert.FromBase64String(result.ImageDifference);

            Assert.Equal(expectedResult, actualResult);
            Assert.Equal("0.27", result.Mismatch.ToString("F2"));
        }

        [Fact]
        public void ErrorPixelTransform_DiffOnly()
        {
            var people = Image.FromFile(@".\Examples\ghost1.png");
            var people2 = Image.FromFile(@".\Examples\ghost2.png");

            var result = new Resemble(people)
                .CompareTo(people2)
                .WithDifferenceType(DifferenceType.DiffOnly)
                .WithDifferenceColor(Color.FromArgb(255, 255, 0))
                .Compare();

            var expectedResult = File.ReadAllBytes(@".\Examples\pixelErrorTransform\diffOnly.png");
            var actualResult = Convert.FromBase64String(result.ImageDifference);

            Assert.Equal(expectedResult, actualResult);
            Assert.Equal("0.27", result.Mismatch.ToString("F2"));
        }
    }
}
